# üéì –õ–æ–≥—ñ–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∏ - –î–µ—Ç–∞–ª—å–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è

## üìö –ó–º—ñ—Å—Ç

1. [–©–æ —Ü–µ –≤–∑–∞–≥–∞–ª—ñ?](#-—â–æ-—Ü–µ-–≤–∑–∞–≥–∞–ª—ñ)
2. [–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏](#-–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º–∏)
3. [–Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–∞—Ü—é—î –∑ —Å–∏—Å—Ç–µ–º–æ—é](#-—è–∫-–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á-–ø—Ä–∞—Ü—é—î-–∑-—Å–∏—Å—Ç–µ–º–æ—é)
4. [–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö SQL](#-–±–∞–∑–∞-–¥–∞–Ω–∏—Ö-sql)
5. [Firestore (—Ö–º–∞—Ä–Ω–µ —Å—Ö–æ–≤–∏—â–µ)](#-firestore-—Ö–º–∞—Ä–Ω–µ-—Å—Ö–æ–≤–∏—â–µ)
6. [Redis (–∫–µ—à)](#-redis-–∫–µ—à)
7. [–ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É](#-–ø—Ä–∏–∫–ª–∞–¥–∏-–∫–æ–¥—É)
8. [–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è](#-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)

---

## üéØ –©–æ —Ü–µ –≤–∑–∞–≥–∞–ª—ñ?

### –ü—Ä–æ—Å—Ç–∞ –∞–Ω–∞–ª–æ–≥—ñ—è

–£—è–≤—ñ—Ç—å —Å–æ–±—ñ **—Ç—É—Ä–∏—Å—Ç–∏—á–Ω–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ** üè¢:

```
üì± –¢—É—Ä–∏—Å—Ç–∏ (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∏)
   ‚Üì (–ø–µ—Ä–µ–≥–ª—è–¥–∞—é—Ç—å —Ç—É—Ä–∏, –±—Ä–æ–Ω—é—é—Ç—å)
üìä –û—Ñ—ñ—Å (—Å–∏—Å—Ç–µ–º–∞)
   ‚Üì (–∑–±–µ—Ä—ñ–≥–∞—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é)
üìÅ –ê—Ä—Ö—ñ–≤ (–±–∞–∑–∏ –¥–∞–Ω–∏—Ö)
   - SQL: –ü–æ—Å—Ç—ñ–π–Ω—ñ –¥–∞–Ω—ñ (—É–∫–ª–∞–¥–∞–Ω–Ω—è, –ø–ª–∞—Ç–µ–∂—ñ)
   - Firestore: –õ–æ–≥–∏ —Ç–∞ —á–∞—Ç–∏ (–≥–Ω—É—á–∫—ñ –¥–∞–Ω—ñ)
   - Redis: –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ç—É—Ä–∏ (—à–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø)
```

### –¢—Ä–∏ —Ä—ñ–∑–Ω—ñ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö - –Ω–∞–≤—ñ—â–æ?

| –ë–∞–∑–∞          | –î–ª—è —á–æ–≥–æ                      | –ü—Ä–∏–∫–ª–∞–¥                            |
| ------------- | ----------------------------- | ---------------------------------- |
| **SQL**       | –í–∞–∂–ª–∏–≤—ñ, —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ   | –£–∫–ª–∞–¥–∞–Ω–Ω—è –ø–ª–∞—Ç–µ–∂—ñ–≤, —Å–ø–∏—Å–æ–∫ —Ç—É—Ä—ñ–≤   |
| **Firestore** | –ì–Ω—É—á–∫—ñ, —á–∞—Å—Ç–æ –æ–Ω–æ–≤–ª—é–≤–∞–Ω—ñ –¥–∞–Ω—ñ | –ß–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –ª–æ–≥–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ |
| **Redis**     | –î—É–∂–µ —à–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø           | –°–ø–∏—Å–æ–∫ –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —Ç—É—Ä—ñ–≤            |

---

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    WEB –î–û–î–ê–¢–û–ö (index.html)                  ‚îÇ
‚îÇ            –¢–µ, —â–æ –≤–∏–¥–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —É –±—Ä–∞—É–∑–µ—Ä—ñ               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                   (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∑–∞—î–º–æ–¥—ñ—î)
                            ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –õ–û–ì–Ü–ö–ê –ü–†–û–ì–†–ê–ú–ò                           ‚îÇ
‚îÇ    (src/firebase.ts, src/redis_cache.ts, —Ç–æ—â–æ)             ‚îÇ
‚îÇ  - –û–±—Ä–æ–±–∫–∞ –∫–ª–∞—Ü–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫                                  ‚îÇ
‚îÇ  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö                                          ‚îÇ
‚îÇ  - –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –ë–î                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚îÇ                    ‚îÇ                    ‚îÇ
            ‚ñº                    ‚ñº                    ‚ñº
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ   MS SQL     ‚îÇ    ‚îÇ  Firestore   ‚îÇ    ‚îÇ    Redis     ‚îÇ
      ‚îÇ  (–æ—Å–Ω–æ–≤–Ω–∞)   ‚îÇ    ‚îÇ  (–ª–æ–≥–∏/—á–∞—Ç–∏) ‚îÇ    ‚îÇ   (–∫–µ—à)      ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–∞—Ü—é—î –∑ —Å–∏—Å—Ç–µ–º–æ—é

### 1Ô∏è‚É£ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞—Ö–æ–¥–∏—Ç—å –Ω–∞ —Å–∞–π—Ç**

```
–î—ñ—è: –í—ñ–¥–∫—Ä–∏—Ç–∏ index.html —É –±—Ä–∞—É–∑–µ—Ä—ñ
   ‚Üì
–ü—Ä–æ–≥—Ä–∞–º–∞: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —Å—Ç–æ—Ä—ñ–Ω–∫—É, –ø–æ–∫–∞–∑—É—î —Ñ–æ—Ä–º–∏
   ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –º–µ–Ω—é (–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ, –¢—É—Ä–∏, –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è, —Ç–æ—â–æ)
```

### 2Ô∏è‚É£ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω—ñ –≤ —Ñ–æ—Ä–º—É**

```
–î—ñ—è: –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ñ–æ—Ä–º—É "–î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞"
     - –Ü–º'—è: –Ü–≤–∞–Ω
     - Email: ivan@example.com
     - –¢–µ–ª–µ—Ñ–æ–Ω: +380671234567
   ‚Üì
–ü—Ä–æ–≥—Ä–∞–º–∞: –ß–∏—Ç–∞—î –≤–≤–µ–¥–µ–Ω—ñ –¥–∞–Ω—ñ –∑ —Ñ–æ—Ä–º–∏
   ‚Üì
–ß–µ–∫: –ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ (–Ω–µ –ø—É—Å—Ç–æ, –≤–∞–ª—ñ–¥–Ω–∏–π email)
```

### 3Ô∏è‚É£ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∫–ª–∞—Ü–∞—î "–ó–±–µ—Ä–µ–≥—Ç–∏"**

```
–î—ñ—è: –ö–ª–∞—Ü–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ "–ó–±–µ—Ä–µ–≥—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞"
   ‚Üì
–ü—Ä–æ–≥—Ä–∞–º–∞:
1. –ß–∏—Ç–∞—î –≤–≤–µ–¥–µ–Ω—ñ –¥–∞–Ω—ñ (getFormData)
2. –ü–µ—Ä–µ–≤—ñ—Ä—è—î —ó—Ö (validateData)
3. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–∞ —Å–µ—Ä–≤–µ—Ä (fetch –∞–±–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞)
   ‚Üì
–°–µ—Ä–≤–µ—Ä:
1. –û—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ
2. –í—Å—Ç–∞–≤–ª—è—î –≤ SQL –±–∞–∑—É
3. –ü–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç ("–ó–±–µ—Ä–µ–∂–µ–Ω–æ!" –∞–±–æ –ø–æ–º–∏–ª–∫–∞)
   ‚Üì
–ü—Ä–æ–≥—Ä–∞–º–∞:
1. –û—Ç—Ä–∏–º—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
2. –ü–æ–∫–∞–∑—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
3. –û—á–∏—â—É—î —Ñ–æ—Ä–º—É
```

### 4Ô∏è‚É£ **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Å–ø–∏—Å–æ–∫**

```
–î—ñ—è: –ö–ª–∞—Ü–∞–Ω–Ω—è "–ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤"
   ‚Üì
–ü—Ä–æ–≥—Ä–∞–º–∞: –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –¥–æ –ë–î (SELECT * FROM Users)
   ‚Üì
–ë–î: –ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
   ‚Üì
–ü—Ä–æ–≥—Ä–∞–º–∞:
1. –û—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ
2. –§–æ—Ä–º–∞—Ç—É—î —è–∫ —Ç–∞–±–ª–∏—Ü—é
3. –ü–æ–∫–∞–∑—É—î –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
   ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Å–ø–∏—Å–æ–∫
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö SQL

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—å

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       USERS (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∏)                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ UserID (–∫–ª—é—á) ‚îÇ FullName    ‚îÇ Email           ‚îÇ Phone       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1             ‚îÇ –Ü–≤–∞–Ω        ‚îÇ ivan@mail.com   ‚îÇ +38067...   ‚îÇ
‚îÇ 2             ‚îÇ –ú–∞—Ä—ñ—è       ‚îÇ maria@mail.com  ‚îÇ +38093...   ‚îÇ
‚îÇ 3             ‚îÇ –ü–µ—Ç—Ä–æ       ‚îÇ petro@mail.com  ‚îÇ +38099...   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       TOURS (—Ç—É—Ä–∏)                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ TourID ‚îÇ Title         ‚îÇ Country  ‚îÇ StartDate ‚îÇ Price       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1      ‚îÇ –í—ñ–∫–µ–Ω–¥ –ü–∞—Ä–∏–∂  ‚îÇ –§—Ä–∞–Ω—Ü—ñ—è  ‚îÇ 2024-06   ‚îÇ 850.00 EUR  ‚îÇ
‚îÇ 2      ‚îÇ –ô–æ–≥–∞ –Ω–∞ –ë–∞–ª—ñ  ‚îÇ –Ü–Ω–¥–æ–Ω–µ–∑. ‚îÇ 2024-09   ‚îÇ 1450.00 EUR ‚îÇ
‚îÇ 3      ‚îÇ –õ–æ–≤ –∑–∞ –ª—å–≤–∞–º. ‚îÇ –ö–µ–Ω—ñ—è    ‚îÇ 2024-07   ‚îÇ 2200.00 EUR ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    BOOKINGS (–±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ BookID ‚îÇ UserID ‚îÇ TourID ‚îÇ Status    ‚îÇ Date    ‚îÇ Travelers   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1      ‚îÇ 1      ‚îÇ 1      ‚îÇ Confirmed ‚îÇ 2024... ‚îÇ 2 –æ—Å–æ–±–∏     ‚îÇ
‚îÇ 2      ‚îÇ 2      ‚îÇ 2      ‚îÇ Pending   ‚îÇ 2024... ‚îÇ 1 –æ—Å–æ–±–∞     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –Ø–∫ –¥–∞–Ω—ñ –ø–æ–≤'—è–∑–∞–Ω—ñ

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á (User)
    ‚îÇ
    ‚îî‚îÄ (–º–æ–∂–µ –∑–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏) ‚îÄ‚îÄ‚Üí –¢—É—Ä (Tour)
                                ‚îÇ
                            –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (Booking)
                                ‚îÇ
                            –°—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂—É
```

**–ü—Ä–∏–∫–ª–∞–¥:**

- –Ü–≤–∞–Ω (User #1) –∑–∞–±—Ä–æ–Ω—é–≤–∞–≤ (Booking #1) —Ç—É—Ä "–í—ñ–∫–µ–Ω–¥ –ü–∞—Ä–∏–∂" (Tour #1)
- –°—Ç–∞—Ç—É—Å: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ ‚úÖ

---

## ‚òÅÔ∏è Firestore (—Ö–º–∞—Ä–Ω–µ —Å—Ö–æ–≤–∏—â–µ)

### –©–æ —Ç–∞–∫–µ Firestore?

–¶–µ **–≥–Ω—É—á–∫–µ —Ö–º–∞—Ä–Ω–µ —Å—Ö–æ–≤–∏—â–µ** –≤—ñ–¥ Google –¥–ª—è –¥–∞–Ω–∏—Ö, —è–∫—ñ —á–∞—Å—Ç–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É Firestore

```
firestore/
‚îú‚îÄ‚îÄ users/
‚îÇ   ‚îú‚îÄ‚îÄ user_1/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ name: "–Ü–≤–∞–Ω"
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email: "ivan@mail.com"
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ activityLogs/  (–≤–∫–ª–∞–¥–µ–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ log_001/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ action: "view"
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ tourId: "1"
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ timestamp: 2024-11-26...
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ log_002/
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ action: "search"
‚îÇ   ‚îÇ           ‚îú‚îÄ‚îÄ query: "–§—Ä–∞–Ω—Ü—ñ—è"
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ timestamp: 2024-11-26...
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ user_2/
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ chats/
‚îÇ   ‚îú‚îÄ‚îÄ chat_001/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages/  (–≤–∫–ª–∞–¥–µ–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ msg_1: { sender: "user", body: "..." }
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ msg_2: { sender: "manager", body: "..." }
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ msg_3: { sender: "user", body: "..." }
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ chat_002/
‚îÇ       ‚îî‚îÄ‚îÄ messages/
‚îÇ           ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ notifications/
    ‚îú‚îÄ‚îÄ notif_001: { type: "booking_confirmed", userId: 1 }
    ‚îú‚îÄ‚îÄ notif_002: { type: "new_tour", userId: 2 }
    ‚îî‚îÄ‚îÄ ...
```

### –ö–æ–ª–∏ Firestore –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è?

| –î—ñ—è                       | –î–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è | –ß–æ–º—É                         |
| ------------------------- | --------------- | ---------------------------- |
| –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–±—Ä–æ–Ω—é–≤–∞–≤ —Ç—É—Ä | SQL             | –í–∞–∂–ª–∏–≤–æ! –ü–æ—Ç—Ä—ñ–±–Ω–∞ –≥–∞—Ä–∞–Ω—Ç—ñ—è   |
| –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Ç—É—Ä | Firestore       | –õ–æ–≥—É–≤–∞–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ         |
| –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–∏—à–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É | Firestore       | –ì–∏–±–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, real-time |
| –í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó  | Firestore       | –ú–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –ø—ñ—Å–ª—è —á–∏—Ç–∞–Ω–Ω—è |

---

## üíö Redis (–∫–µ—à)

### –©–æ —Ç–∞–∫–µ Redis?

**–î—É–∂–µ —à–≤–∏–¥–∫–µ —Å—Ö–æ–≤–∏—â–µ** –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø–∏—Ç—É–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

```
‚ùå –ë–ï–ó Redis (–ø–æ–≤—ñ–ª—å–Ω–æ):
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–∏—Ç—É—î "–ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ç—É—Ä–∏"
   ‚Üì (–∑–∞–ø–∏—Ç –¥–æ SQL –ë–î)
   ‚Üì (–≤–∏—Ç—Ä–∞—á–µ–Ω–æ 500 –º—Å)
   –î–∞–Ω—ñ –æ—Ç—Ä–∏–º–∞–Ω—ñ

‚úÖ –ó Redis (—à–≤–∏–¥–∫–æ):
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–∏—Ç—É—î "–ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ç—É—Ä–∏"
   ‚Üì (–∑–∞–ø–∏—Ç –¥–æ Redis –≤ –ø–∞–º'—è—Ç—ñ)
   ‚Üì (–≤–∏—Ç—Ä–∞—á–µ–Ω–æ 5 –º—Å)
   –î–∞–Ω—ñ –æ—Ç—Ä–∏–º–∞–Ω—ñ!
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Redis

```
Redis (–≤ –ø–∞–º'—è—Ç—ñ –∫–æ–º–ø'—é—Ç–µ—Ä–∞):

tour:popular ‚Üí Sorted Set (—Ä–µ–π—Ç–∏–Ω–≥ —Ç—É—Ä–∏–∑–º—É)
‚îú‚îÄ‚îÄ {score: 150, value: "tour:1"}    (150 –±—Ä–æ–Ω—é–≤–∞–Ω—å)
‚îú‚îÄ‚îÄ {score: 120, value: "tour:2"}    (120 –±—Ä–æ–Ω—é–≤–∞–Ω—å)
‚îî‚îÄ‚îÄ {score: 95, value: "tour:3"}     (95 –±—Ä–æ–Ω—é–≤–∞–Ω—å)

tour:1 ‚Üí Hash (–¥–∞–Ω—ñ —Ç—É—Ä—É)
‚îú‚îÄ‚îÄ title: "–í—ñ–∫–µ–Ω–¥ –ü–∞—Ä–∏–∂"
‚îú‚îÄ‚îÄ price: "850.00"
‚îî‚îÄ‚îÄ country: "–§—Ä–∞–Ω—Ü—ñ—è"

user:1:recent_views ‚Üí List (–æ—Å—Ç–∞–Ω–Ω—ñ –ø–µ—Ä–µ–≥–ª—è–¥–∏)
‚îú‚îÄ‚îÄ "tour:3"
‚îú‚îÄ‚îÄ "tour:7"
‚îú‚îÄ‚îÄ "tour:2"
‚îî‚îÄ‚îÄ ...
```

---

## üíª –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É

### 1Ô∏è‚É£ –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (SQL)

```typescript
// –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–æ–≤–Ω–∏–≤ —Ñ–æ—Ä–º—É:
// –Ü–º'—è: –Ü–≤–∞–Ω, Email: ivan@mail.com

async function addUser(name: string, email: string, phone: string) {
  // –ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏
  if (!name || !email) {
    console.error("–ü–æ–º–∏–ª–∫–∞: –Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ –ø–æ–ª—è!");
    return;
  }

  // –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–≤–∏—Ç–∏ –≤ SQL
  const query = `
    INSERT INTO Users (FullName, Email, Phone)
    VALUES ('${name}', '${email}', '${phone}')
  `;

  const result = await sqlPool.request().query(query);

  // –ö—Ä–æ–∫ 3: –ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  if (result.recordset) {
    console.log("‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–æ–¥–∞–Ω–æ!");
    displayUsers(); // –û–Ω–æ–≤–∏—Ç–∏ —Å–ø–∏—Å–æ–∫
  }
}
```

**–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:**

1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–æ–≤–Ω—é—î —Ñ–æ—Ä–º—É
2. –ü—Ä–æ–≥—Ä–∞–º–∞ —á–∏—Ç–∞—î –¥–∞–Ω—ñ
3. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î SQL –∫–æ–º–∞–Ω–¥—É
4. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞—î—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—é Users
5. –°–ø–∏—Å–æ–∫ –æ–Ω–æ–≤–ª—è—î—Ç—å—Å—è

### 2Ô∏è‚É£ –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≥–ª—è–¥—ñ–≤ (Firestore)

```typescript
// –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∫–ª–∞—Ü–Ω—É–≤ –Ω–∞ —Ç—É—Ä "–í—ñ–∫–µ–Ω–¥ –ü–∞—Ä–∏–∂"

async function logTourView(userId: string, tourId: string) {
  // –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç –ª–æ–≥—É
  const log = {
    actionType: "view",
    tourId: tourId,
    timestamp: new Date(),
    device: "mobile",
    duration: 45, // —Å–µ–∫—É–Ω–¥–∏
  };

  // –ö—Ä–æ–∫ 2: –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ Firestore
  await addDoc(collection(db, `users/${userId}/activityLogs`), log);

  console.log("‚úÖ –õ–æ–≥ –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π!");
}
```

**–©–æ –æ–∑–Ω–∞—á–∞—î:**

- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞–≤ —Ç—É—Ä
- –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∫–æ–ª–∏, –Ω–∞ —Å–∫—ñ–ª—å–∫–∏ –¥–æ–≤–≥–æ
- –ú–æ–∂–µ–º–æ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—å —Ç—É—Ä—ñ–≤

### 3Ô∏è‚É£ –ö–µ—à—É–≤–∞–Ω–Ω—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —Ç—É—Ä—ñ–≤ (Redis)

```typescript
// –ö–æ–∂–Ω–∏–π –¥–µ–Ω—å –∞–±–æ –∫–æ–ª–∏ –∑–º—ñ–Ω–∏–ª–æ—Å—å –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

async function updatePopularToursCache(sqlPool) {
  // –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–æ–ø-10 —Ç—É—Ä—ñ–≤ –∑ SQL
  const result = await sqlPool.request().query(`
    SELECT TOP 10 Tours.TourID, Tours.Title, Tours.Price,
           COUNT(Bookings.BookingID) AS BookingCount
    FROM Tours
    LEFT JOIN Bookings ON Tours.TourID = Bookings.TourID
    GROUP BY Tours.TourID, Tours.Title, Tours.Price
    ORDER BY BookingCount DESC
  `);

  // –ö—Ä–æ–∫ 2: –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ Redis
  for (const tour of result.recordset) {
    redis.hSet(`tour:${tour.TourID}`, {
      title: tour.Title,
      price: tour.Price,
    });
    redis.zAdd("tour:popular", {
      score: tour.BookingCount,
      value: `tour:${tour.TourID}`,
    });
  }

  console.log("‚úÖ –ö–µ—à –æ–Ω–æ–≤–ª–µ–Ω–∏–π!");
}

// –ö–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–ø–∏—Ç—É—î –ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ç—É—Ä–∏
async function getPopularTours() {
  // –ö—Ä–æ–∫ 1: –ó–∞–ø–∏—Ç–∞—Ç–∏ –∑ Redis (—à–≤–∏–¥–∫–æ!)
  const keys = await redis.zRange("tour:popular", 0, 10, { REV: true });

  // –ö—Ä–æ–∫ 2: –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ
  const tours = [];
  for (const key of keys) {
    const tourData = await redis.hGetAll(key);
    tours.push(tourData);
  }

  return tours;
}
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç?

```bash
# –£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
cd c:\Users\–í–ª–∞–¥\Desktop\laba-bd-2
npx ts-node scripts/benchmark-simple.ts
```

### –©–æ —Ç–µ—Å—Ç —Ä–æ–±–∏—Ç—å?

```
1. –ì–µ–Ω–µ—Ä—É—î —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ:
   - 10,000 –ª–æ–≥—ñ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
   - 2,000 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

2. –¢–µ—Å—Ç—É—î –æ–ø–µ—Ä–∞—Ü—ñ—ó SQL:
   - –í—Å—Ç–∞–≤–∫–∞ 10k –ª–æ–≥—ñ–≤
   - –ß–∏—Ç–∞–Ω–Ω—è –≤—Å—ñ—Ö –ª–æ–≥—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - –í—Å—Ç–∞–≤–∫–∞ 2k –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
   - –ß–∏—Ç–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö 50 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

3. –¢–µ—Å—Ç—É—î –æ–ø–µ—Ä–∞—Ü—ñ—ó Firestore:
   - –¢–µ –∂ —Å–∞–º–µ, –∞–ª–µ —ñ–Ω—à–∏–π —Å–ø–æ—Å—ñ–±

4. –ü–æ—Ä—ñ–≤–Ω—é—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:
   - –Ø–∫–∏–π —à–≤–∏–¥—à–µ?
   - –ù–∞ —Å–∫—ñ–ª—å–∫–∏?
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –û–ø–µ—Ä–∞—Ü—ñ—è               ‚îÇ SQL (–º—Å) ‚îÇ FS (–º—Å)    ‚îÇ –ü–µ—Ä–µ–º–æ–∂–µ—Ü—å  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –í—Å—Ç–∞–≤–∫–∞ 10k            ‚îÇ 30.32    ‚îÇ 22.87      ‚îÇ Firestore ‚úì ‚îÇ
‚îÇ –ß–∏—Ç–∞–Ω–Ω—è –≤—Å—ñ—Ö           ‚îÇ 1.09     ‚îÇ 0.89       ‚îÇ Firestore ‚úì ‚îÇ
‚îÇ –í—Å—Ç–∞–≤–∫–∞ 2k             ‚îÇ 3.85     ‚îÇ 4.20       ‚îÇ SQL ‚úì       ‚îÇ
‚îÇ –ß–∏—Ç–∞–Ω–Ω—è 50 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö    ‚îÇ 0.19     ‚îÇ 0.28       ‚îÇ SQL ‚úì       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–í–∏—Å–Ω–æ–≤–æ–∫: –û–±–∏–¥–≤–∞ —à–≤–∏–¥–∫—ñ, —Ä—ñ–∑–Ω—ñ –ø–µ—Ä–µ–≤–∞–≥–∏!
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –¢—É—Ä–∏—Å—Ç –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Ç—É—Ä–∏

```
1. –¢—É—Ä–∏—Å—Ç: –í—ñ–¥–∫—Ä–∏–≤–∞–µ—Ç —Å–∞–π—Ç
   ‚Üì
2. –ü—Ä–æ–≥—Ä–∞–º–∞: –ó–∞–ø–∏—Ç—É—î –ø–æ–ø—É–ª—è—Ä–Ω—ñ —Ç—É—Ä–∏ –∑ Redis (—à–≤–∏–¥–∫–æ!)
   ‚Üì
3. –ü–æ–∫–∞–∑—É—é—Ç—Å—è —Ç—É—Ä–∏ –Ω–∞ —Å–∞–π—Ç—ñ
   ‚Üì
4. –¢—É—Ä–∏—Å—Ç: –ö–ª–∞—Ü–∞—î –Ω–∞ —Ç—É—Ä "–í—ñ–∫–µ–Ω–¥ –ü–∞—Ä–∏–∂"
   ‚Üì
5. –ü—Ä–æ–≥—Ä–∞–º–∞:
   - –õ–æ–≥—É—î –≤ Firestore "–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞–≤ —Ç—É—Ä"
   - –ü–æ–∫–∞–∑—É—î –¥–µ—Ç–∞–ª—ñ —Ç—É—Ä—É –∑ SQL
   ‚Üì
6. –¢—É—Ä–∏—Å—Ç –±–∞—á–∏—Ç—å:
   - –§–æ—Ç–æ
   - –û–ø–∏—Å
   - –¶—ñ–Ω—É
   - –ö–Ω–æ–ø–∫–∞ "–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏"
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –¢—É—Ä–∏—Å—Ç –±—Ä–æ–Ω—é—î —Ç—É—Ä

```
1. –¢—É—Ä–∏—Å—Ç: –ö–ª–∞—Ü–∞—î "–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏"
   ‚Üì
2. –§–æ—Ä–º–∞: –ó–∞–ø–∏—Ç—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫—ñ–≤
   ‚Üì
3. –¢—É—Ä–∏—Å—Ç: –í–≤–æ–¥–∏—Ç—å "2 –æ—Å–æ–±–∏"
   ‚Üì
4. –ü—Ä–æ–≥—Ä–∞–º–∞:
   - –ü–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –º—ñ—Å—Ü—å (SELECT FROM Tours)
   - –°—Ç–≤–æ—Ä—é—î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (INSERT INTO Bookings)
   - –û–Ω–æ–≤–ª—é—î –∫–µ—à –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —Ç—É—Ä—ñ–≤ (Redis)
   - –ù–∞–¥—Å–∏–ª–∞—î –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é (Firestore)
   ‚Üì
5. –¢—É—Ä–∏—Å—Ç –±–∞—á–∏—Ç—å: "‚úÖ –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ!"
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –¢—É—Ä–∏—Å—Ç —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º

```
1. –¢—É—Ä–∏—Å—Ç: –í—ñ–¥–∫—Ä–∏–≤–∞–µ—Ç —á–∞—Ç
   ‚Üì
2. –ü—Ä–æ–≥—Ä–∞–º–∞: –ó–∞–ø–∏—Ç—É—î –≤—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ Firestore
   ‚Üì
3. –ß–∞—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è (–∑ real-time —Å–ª—É—Ö–∞—á–µ–º)
   ‚Üì
4. –¢—É—Ä–∏—Å—Ç: –ü–∏—à–µ "–ß–∏ —î –∑–Ω–∏–∂–∫–∏?"
   ‚Üì
5. –ü—Ä–æ–≥—Ä–∞–º–∞:
   - –ó–±–µ—Ä—ñ–≥–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Firestore
   - –í—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –º–µ–Ω–µ–¥–∂–µ—Ä—É
   ‚Üì
6. –ú–µ–Ω–µ–¥–∂–µ—Ä: –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î "–Ñ -10% –¥–ª—è —Ä–∞–Ω–Ω—å–æ–≥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è"
   ‚Üì
7. –¢—É—Ä–∏—Å—Ç: –ë–∞—á–∏—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—å –º–∏—Ç—Ç—î–≤–æ (real-time)
```

---

## üîë –ö–ª—é—á–æ–≤—ñ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó

### 1. –í–∞–ª—ñ–¥–∞—Ü—ñ—è (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞)

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω—ñ
   ‚Üì
–ü—Ä–æ–≥—Ä–∞–º–∞: –ß–∏ —Ü–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?
- Email –º—ñ—Å—Ç–∏—Ç—å @?
- –Ü–º'—è –Ω–µ –ø—É—Å—Ç–æ?
- –¶—ñ–Ω–∞ > 0?
   ‚Üì
–Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ ‚Üí –ø–æ–∫–∞–∑–∞—Ç–∏ —á–µ—Ä–≤–æ–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
–Ø–∫—â–æ OK ‚Üí –∑–±–µ—Ä–µ–≥—Ç–∏
```

### 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ—Å—Ç—å (–Ω–µ–±–ª–æ–∫—É–≤–∞–Ω–Ω—è)

```
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–±–ª–æ–∫—É—î):
–ó–∞–ø–∏—Ç –¥–æ –ë–î
(–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —á–µ–∫–∞—î, –µ–∫—Ä–∞–Ω –∑–∞–≤–∏—Å–∞—î)
–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç—Ä–∏–º–∞–Ω–æ

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (async):
–ó–∞–ø–∏—Ç –¥–æ –ë–î (–Ω–∞ —Ñ–æ–Ω—ñ)
(–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∫–ª–∞—Ü–∞—Ç–∏ —â–æ—Å—å —ñ–Ω—à–µ)
–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç—Ä–∏–º–∞–Ω–æ ‚Üí –ø–æ–∫–∞–∑–∞—Ç–∏
```

### 3. Real-time (–º–∏—Ç—Ç—î–≤–æ)

```
Firestore –º–∞—î "—Å–ª—É—Ö–∞—á–µ–π" (listeners)

–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∏—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
   ‚Üì
–¢—É—Ä–∏—Å—Ç –ú–ò–¢–¢–Ñ–í–û –≤–∏–¥–∏—Ç—å –π–æ–≥–æ
(–±–µ–∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏)
```

---

## üìö –†–µ–∑—é–º–µ

### –©–æ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º–∞?

1. **SQL (MS SQL Server)**

   - –ó–±–µ—Ä—ñ–≥–∞—î –ø–æ—Å—Ç—ñ–π–Ω—ñ –¥–∞–Ω—ñ
   - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∏, —Ç—É—Ä–∏, –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
   - –ì–∞—Ä–∞–Ω—Ç—É—î —Ü—ñ–ª—ñ—Å–Ω—ñ—Å—Ç—å

2. **Firestore**

   - –ó–±–µ—Ä—ñ–≥–∞—î –≥–Ω—É—á–∫—ñ –¥–∞–Ω—ñ
   - –õ–æ–≥–∏, —á–∞—Ç–∏, –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
   - Real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

3. **Redis**
   - –ö–µ—à—É—î —á–∞—Å—Ç–æ –∑–∞–ø–∏—Ç—É–≤–∞–Ω—ñ –¥–∞–Ω—ñ
   - –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ç—É—Ä–∏
   - –î—É–∂–µ —à–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø

### –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∑–∞—î–º–æ–¥—ñ—î?

```
–ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ñ–æ—Ä–º—É
   ‚Üì (–∫–ª–∞—Ü–Ω—É—Ç–∏ –∫–Ω–æ–ø–∫—É)
–ü—Ä–æ–≥—Ä–∞–º–∞ –æ–±—Ä–æ–±–ª—è—î
   ‚Üì (–≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –¥–æ –ë–î)
–ë–î –∑–±–µ—Ä—ñ–≥–∞—î
   ‚Üì (–ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
–ü—Ä–æ–≥—Ä–∞–º–∞ –ø–æ–∫–∞–∑—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   ‚Üì
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–¥–∏—Ç—å "–£—Å–ø—ñ—à–Ω–æ!" –∞–±–æ –ø–æ–º–∏–ª–∫—É
```

---

## üéì –¢–µ–ø–µ—Ä –≤–∏ —Ä–æ–∑—É–º—ñ—î—Ç–µ –ª–æ–≥—ñ–∫—É!

–Ø–∫—â–æ —î —â–µ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è - –∑–∞–ø–∏—Ç–∞–π—Ç–µ! üöÄ
